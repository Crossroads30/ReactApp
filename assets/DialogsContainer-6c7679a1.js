import{R as r,j as e,N as d,c as m,a as g,r as l,F as _,b as x,d as j,m as u,e as h,f as p}from"./index-ca361c6e.js";const v=s=>({isAuth:s.auth.isAuth}),N=s=>{class n extends r.Component{render(){return this.props.isAuth?e.jsx(s,{...this.props}):e.jsx(d,{to:"/login"})}}return m(v)(n)},M="_dialogsWrapper_i5nrj_1",C="_dialogs_i5nrj_1",D="_dialogsItems_i5nrj_9",R="_item_i5nrj_14",f="_messages_i5nrj_19",w="_link_i5nrj_23",F="_active_i5nrj_23",A="_avatar_i5nrj_38",I="_image_i5nrj_43",t={dialogsWrapper:M,dialogs:C,dialogsItems:D,item:R,messages:f,link:w,active:F,avatar:A,image:I},T="_item_11qno_1",b={item:T},P=s=>{const n="/dialogs/"+s.id;return e.jsx("li",{className:b.item,children:e.jsx(g,{to:n,children:s.name})})},S="_message_125i0_1",k={message:S},W=s=>e.jsx("div",{className:k.message,id:s.id,children:s.message}),$=u(100),y=s=>e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsx(_,{component:x,typeofelement:"textarea",name:"newMessageText",placeholder:"  enter your message...",validate:[j,$]}),e.jsx("button",{children:"send"})]}),L=l({form:"dialogs"})(y),q=s=>{const n=s.dialogs.map(a=>e.jsxs("div",{className:t.avatar,children:[e.jsx("div",{className:t.image}),e.jsx(P,{name:a.name,id:a.id})]},a.id)),i=s.messages.map(a=>e.jsx(W,{message:a.message,id:a.id},a.id)),o=a=>{const c=a.newMessageText;s.addMessage(c)};return e.jsxs("div",{className:t.dialogsWrapper,children:[e.jsxs("div",{className:t.dialogs,children:[e.jsx("ul",{className:t.dialogsItems,children:n}),e.jsx("div",{className:t.messages,children:i})]}),e.jsx(L,{onSubmit:o})]})};class E extends r.Component{componentDidMount(){}render(){return e.jsx(q,{...this.props})}}const B=s=>({dialogs:s.messagesPage.dialogs,messages:s.messagesPage.messages,newMessageText:s.messagesPage.newMessageText}),G=h(m(B,{addMessage:p}),N)(E);export{G as default};
